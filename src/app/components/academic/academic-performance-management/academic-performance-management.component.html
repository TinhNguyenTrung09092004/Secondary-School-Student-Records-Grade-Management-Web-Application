<h2>Quản Lý Học Lực</h2>

<button (click)="startAdd()">Thêm Học Lực Mới</button>

<p *ngIf="errorMessage" style="color: red;">{{ errorMessage }}</p>
<p *ngIf="successMessage" style="color: green;">{{ successMessage }}</p>

<!-- Form Section -->
<div *ngIf="showForm" style="border: 1px solid #ccc; padding: 15px; margin: 20px 0; background: #f9f9f9;">
  <h3>{{ isEditing ? 'Chỉnh Sửa Học Lực' : 'Thêm Học Lực Mới' }}</h3>

  <div style="margin-bottom: 10px;">
    <label>Mã Học Lực (tối đa 6 ký tự):</label><br>
    <input
      type="text"
      [(ngModel)]="formData.academicPerformanceId"
      maxlength="6"
      [disabled]="isEditing"
      required
      style="width: 300px;">
  </div>

  <div style="margin-bottom: 10px;">
    <label>Tên Học Lực (tối đa 30 ký tự):</label><br>
    <input
      type="text"
      [(ngModel)]="formData.academicPerformanceName"
      maxlength="30"
      required
      style="width: 300px;">
  </div>

  <button (click)="save()">{{ isEditing ? 'Cập Nhật' : 'Tạo' }}</button>
  <button (click)="cancel()">Hủy</button>
</div>

<!-- Table Section -->
<table border="1">
  <thead>
    <tr>
      <th>Mã Học Lực</th>
      <th>Tên Học Lực</th>
      <th>Hành động</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let item of academicPerformances">
      <td>{{ item.academicPerformanceId }}</td>
      <td>{{ item.academicPerformanceName }}</td>
      <td>
        <button (click)="startEdit(item)" title="Chỉnh sửa">Sửa</button>
        <button (click)="delete(item.academicPerformanceId)" title="Xóa">Xóa</button>
      </td>
    </tr>
  </tbody>
</table>